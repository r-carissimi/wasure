{
	"name": "spidermonkey",
	"desc": "Mozilla's SpiderMonkey JavaScript Engine. Does not support WASI.",
	"install-dir": "spidermonkey",
	"install-command": "mkdir -p spidermonkey && cd spidermonkey && export HOME=\"$PWD\" && export XDG_CONFIG_HOME=\"$PWD\" && export NVM_DIR=\"$PWD/nvm\" && curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/master/install.sh | bash && . \"$NVM_DIR/nvm.sh\" && nvm install --lts && npm install jsvu && npx jsvu --os=default --engines=spidermonkey",
	"command": "spidermonkey/.jsvu/engines/spidermonkey/spidermonkey -e 'const bytes = os.file.readFile(scriptArgs[0], \"binary\"); const mod = new WebAssembly.Module(bytes); const instance = new WebAssembly.Instance(mod, {}); if (instance.exports.main) { instance.exports.main(); } else if (instance.exports._start) { instance.exports._start(); } else { throw new Error(\"No main or _start function found\"); }' --",
	"version-command": "spidermonkey/.jsvu/engines/spidermonkey/spidermonkey --version",
	"update-command": "cd spidermonkey && export HOME=\"$PWD\" && export XDG_CONFIG_HOME=\"$PWD\" && export NVM_DIR=\"$PWD/nvm\" && . \"$NVM_DIR/nvm.sh\" && nvm install --lts && npm install jsvu && npx jsvu --os=default --engines=spidermonkey"
}